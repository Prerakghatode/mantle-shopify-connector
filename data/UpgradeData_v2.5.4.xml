<?xml version="1.0" encoding="UTF-8"?>

<entity-facade-xml type="ext-upgrade">
    <moqui.resource.DbResource filename="RefundLineItemsByIdQuery.ftl" isFile="Y" resourceId="RefundLineItemsByIdQuery" parentResourceId="GraphQL">
        <file mimeType="text/html" versionName="01" rootVersionName="01">
            <fileData>
                <![CDATA[
                    <#ftl output_format="HTML">
                    <@compress single_line=true>
                        query {
                            node(id: "${shopifyRefundId}") {
                                id
                                ... on
                                Refund {
                                    id
                                    refundLineItems (first : 10<#if cursor?has_content>, after: "${cursor}"</#if>) {
                                        edges {
                                            node {
                                                id
                                                lineItem {
                                                    id
                                                    variant {
                                                        id
                                                    }
                                                    discountAllocations{
                                                        allocatedAmountSet{
                                                            presentmentMoney{
                                                                amount
                                                                currencyCode
                                                            }
                                                            shopMoney{
                                                                amount
                                                                currencyCode
                                                            }
                                                        }
                                                    }
                                                    taxLines{
                                                        priceSet{
                                                            presentmentMoney{
                                                                amount
                                                                currencyCode
                                                            }
                                                            shopMoney{
                                                                amount
                                                                currencyCode
                                                            }
                                                        }
                                                        rate
                                                        title
                                                    }
                                                }
                                                location {
                                                    id
                                                }
                                                priceSet{
                                                    presentmentMoney{
                                                        amount
                                                        currencyCode
                                                    }
                                                    shopMoney{
                                                        amount
                                                        currencyCode
                                                    }
                                                }
                                                restockType
                                                quantity
                                                subtotalSet{
                                                    presentmentMoney{
                                                        amount
                                                    }
                                                }
                                                totalTaxSet{
                                                    presentmentMoney{
                                                        amount
                                                        currencyCode
                                                    },
                                                    shopMoney{
                                                        currencyCode
                                                        amount
                                                    }
                                                }
                                            }
                                        }
                                        pageInfo {
                                            hasNextPage
                                            endCursor
                                        }
                                    }
                                }
                            }
                        }
                    </@compress>
                ]]>
            </fileData>
            <histories versionName="01" previousVersionName="01"/>
        </file>
    </moqui.resource.DbResource>
</entity-facade-xml>